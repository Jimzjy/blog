<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä¼˜åŒ– | Jimzjy</title>
    <meta name="description" content="

WebPæ˜¯Googleå¼€å‘çš„ä¸€ç§æ–°çš„å›¾ç‰‡æ ¼å¼ï¼Œå®ƒæ”¯æŒæœ‰æŸå‹ç¼©ã€æ— æŸå‹ç¼©å’Œé€æ˜åº¦ï¼Œå‹ç¼©åçš„æ–‡ä»¶å¤§å°æ¯”JPEGã€PNGç­‰éƒ½è¦å°ã€‚æ‰€ä»¥å¯ä»¥èŠ‚çœå¸¦å®½ï¼Œå‡å°‘é¡µé¢è½½å…¥æ—¶é—´ï¼ŒèŠ‚çœç”¨æˆ·çš„æµé‡ã€‚

åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨WebPæ ¼å¼

1.pictureæ ‡ç­¾

pictureæ˜¯HTML5ä¸­çš„ä¸€ä¸ªæ–°æ ‡ç­¾ï¼Œç±»ä¼¼videoå®ƒä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ªæ ¼å¼çš„èµ„æºï¼Œç”±æµè§ˆå™¨é€‰æ‹©è‡ªå·±æ”¯æŒçš„æ ¼å¼è¿›è¡ŒåŠ è½½ã€‚

    &lt;pictu ...">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.38312d4d.css" as="style"><link rel="preload" href="/blog/assets/js/app.53ba6c92.js" as="script"><link rel="preload" href="/blog/assets/js/6.efbb1a0e.js" as="script"><link rel="preload" href="/blog/assets/js/4.9413832c.js" as="script"><link rel="preload" href="/blog/assets/js/22.98c6c60c.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.e55fcec3.js"><link rel="prefetch" href="/blog/assets/js/10.51af10c9.js"><link rel="prefetch" href="/blog/assets/js/11.51ffef52.js"><link rel="prefetch" href="/blog/assets/js/12.0ff238b0.js"><link rel="prefetch" href="/blog/assets/js/13.7fcd5bb3.js"><link rel="prefetch" href="/blog/assets/js/14.375e841f.js"><link rel="prefetch" href="/blog/assets/js/15.83597c49.js"><link rel="prefetch" href="/blog/assets/js/16.5789d787.js"><link rel="prefetch" href="/blog/assets/js/17.57e46215.js"><link rel="prefetch" href="/blog/assets/js/18.4ca73e2f.js"><link rel="prefetch" href="/blog/assets/js/19.5931c08e.js"><link rel="prefetch" href="/blog/assets/js/20.0d9cb551.js"><link rel="prefetch" href="/blog/assets/js/21.1dba83af.js"><link rel="prefetch" href="/blog/assets/js/23.1f8ed9ba.js"><link rel="prefetch" href="/blog/assets/js/24.ed98c08b.js"><link rel="prefetch" href="/blog/assets/js/25.61616923.js"><link rel="prefetch" href="/blog/assets/js/26.92ee0c25.js"><link rel="prefetch" href="/blog/assets/js/27.3c0fbdd5.js"><link rel="prefetch" href="/blog/assets/js/5.860e13d9.js"><link rel="prefetch" href="/blog/assets/js/7.b5dcbd12.js"><link rel="prefetch" href="/blog/assets/js/8.5c3b217f.js"><link rel="prefetch" href="/blog/assets/js/9.e865db1b.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.8d2cad8c.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.38312d4d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">Jimzjy </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/blog/tag/memo/" class="nav-link">Memo</a></li><li class="nav-item"><a href="https://github.com/Jimzjy/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">Jimzjy </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/blog/tag/memo/" class="nav-link">Memo</a></li><li class="mobile-nav-item"><a href="https://github.com/Jimzjy/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">GitHub</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        ä¼˜åŒ–
      </h1> <div class="post-meta"><!----> <!----> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-d832e844><a href="/blog/tag/memo" data-v-d832e844> memo </a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h3 id="webp-å›¾ç‰‡ä¼˜åŒ–"><a href="#webp-å›¾ç‰‡ä¼˜åŒ–" class="header-anchor">#</a> WebP å›¾ç‰‡ä¼˜åŒ–</h3> <p>WebPæ˜¯Googleå¼€å‘çš„ä¸€ç§æ–°çš„å›¾ç‰‡æ ¼å¼ï¼Œå®ƒæ”¯æŒæœ‰æŸå‹ç¼©ã€æ— æŸå‹ç¼©å’Œé€æ˜åº¦ï¼Œå‹ç¼©åçš„æ–‡ä»¶å¤§å°æ¯”JPEGã€PNGç­‰éƒ½è¦å°ã€‚æ‰€ä»¥å¯ä»¥èŠ‚çœå¸¦å®½ï¼Œå‡å°‘é¡µé¢è½½å…¥æ—¶é—´ï¼ŒèŠ‚çœç”¨æˆ·çš„æµé‡ã€‚</p> <p><strong>åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨WebPæ ¼å¼</strong></p> <p><strong>1.pictureæ ‡ç­¾</strong></p> <p>pictureæ˜¯HTML5ä¸­çš„ä¸€ä¸ªæ–°æ ‡ç­¾ï¼Œç±»ä¼¼videoå®ƒä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ªæ ¼å¼çš„èµ„æºï¼Œç”±æµè§ˆå™¨é€‰æ‹©è‡ªå·±æ”¯æŒçš„æ ¼å¼è¿›è¡ŒåŠ è½½ã€‚</p> <div class="language- extra-class"><pre><code>&lt;picture class=&quot;picture&quot;&gt;
  &lt;source type=&quot;image/webp&quot; srcset=&quot;image.webp&quot;&gt;
  &lt;img class=&quot;image&quot; src=&quot;image.jpg&quot;&gt;
&lt;/picture&gt;
</code></pre></div><p>2.<strong>ä½¿ç”¨JSæ›¿æ¢å›¾ç‰‡çš„URL</strong></p> <p>æˆ‘ä»¬æœ‰å¾ˆå¤šçš„é¡µé¢å¾€å¾€ä¼šç”¨åˆ°å›¾ç‰‡çš„â€œæ‡’åŠ è½½â€â€”â€”é€šå¸¸æ˜¯æŠŠå›¾ç‰‡çš„URLæ”¾åœ¨imgå…ƒç´ çš„ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§ä¸­ï¼Œç„¶åç”¨JSåœ¨é€‚å½“çš„æ—¶æœºå°†URLèµ‹å€¼ç»™srcå±æ€§ã€‚ç”¨ç±»ä¼¼çš„åŸç†ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®æµè§ˆå™¨æ˜¯å¦æ”¯æŒWebPæ ¼å¼ï¼Œç»™imgå…ƒç´ èµ‹äºˆä¸åŒçš„srcå€¼ã€‚</p> <div class="language- extra-class"><pre><code>function checkWebp(callback) {
  var img = new Image();
  img.onload = function () {
    var result = (img.width &gt; 0) &amp;&amp; (img.height &gt; 0);
    callback(result);
  };
  img.onerror = function () {
    callback(false);
  };
  img.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';
}
</code></pre></div><p>ç„¶åç”¨ä¸‹é¢çš„ä»£ç æ¥æ ¹æ®æ˜¯å¦æ”¯æŒWebPæ›¿æ¢ç›¸åº”çš„srcã€‚</p> <div class="language- extra-class"><pre><code>function showImage(useWebp){
  var imgs = Array.from(document.querySelectorAll('img'));

  imgs.forEach(function(i){
    var src = i.attributes['data-src'].value;

    if (useWebp){
      src = src.replace(/\.jpg$/, '.webp');
    }

    i.src = src;
  });
}

checkWebp(showImage);
</code></pre></div><p>3.<strong>ä½¿ç”¨JSè§£ç WebPå›¾ç‰‡</strong></p> <p>webpjs</p> <p>å¼•å…¥è¿™ä¸ªJSåº“ï¼Œå°±æ˜¯å°†æ‰€æœ‰çš„WebPå›¾ç‰‡ç”¨JSè§£ç åè½¬æ¢ä¸ºbase64ï¼Œç„¶åæ›¿æ¢æ‰åŸæ¥çš„URLï¼Œè¿™æ ·å°±å¯ä»¥è®©åŸæœ¬ä¸æ”¯æŒWebPçš„æµè§ˆå™¨æ­£å¸¸æ˜¾ç¤ºWebPäº†</p> <h3 id="æŒ‰éœ€åŠ è½½ä¼˜åŒ–"><a href="#æŒ‰éœ€åŠ è½½ä¼˜åŒ–" class="header-anchor">#</a> æŒ‰éœ€åŠ è½½ä¼˜åŒ–</h3> <p>babel-plugin-dynamic-import-webpack</p> <h3 id="å›¾ç‰‡æ‡’åŠ è½½"><a href="#å›¾ç‰‡æ‡’åŠ è½½" class="header-anchor">#</a> å›¾ç‰‡æ‡’åŠ è½½</h3> <p>æŠŠå›¾ç‰‡çš„URLæ”¾åœ¨imgå…ƒç´ çš„ä¸€ä¸ªè‡ªå®šä¹‰å±æ€§ä¸­ï¼Œç„¶åç”¨JSåœ¨é€‚å½“çš„æ—¶æœºå°†URLèµ‹å€¼ç»™srcå±æ€§</p> <p><strong>Intersection Observer</strong></p> <h3 id="é›ªç¢§å›¾"><a href="#é›ªç¢§å›¾" class="header-anchor">#</a> é›ªç¢§å›¾</h3> <p>å°†å°å›¾æ ‡å’ŒèƒŒæ™¯å›¾åƒåˆå¹¶åˆ°ä¸€å¼ å›¾ç‰‡ä¸Šï¼Œç„¶ååˆ©ç”¨cssçš„èƒŒæ™¯å®šä½æ¥æ˜¾ç¤º</p> <h3 id="preload-å’Œ-prefetch"><a href="#preload-å’Œ-prefetch" class="header-anchor">#</a> preload å’Œ prefetch</h3> <p>preload æä¾›äº†ä¸€ç§å£°æ˜å¼çš„å‘½ä»¤ï¼Œè®©æµè§ˆå™¨æå‰åŠ è½½æŒ‡å®šèµ„æº(åŠ è½½åå¹¶ä¸æ‰§è¡Œ)ï¼Œåœ¨éœ€è¦æ‰§è¡Œçš„æ—¶å€™å†æ‰§è¡Œã€‚æä¾›çš„å¥½å¤„ä¸»è¦æ˜¯</p> <ul><li>å°†åŠ è½½å’Œæ‰§è¡Œåˆ†ç¦»å¼€ï¼Œå¯ä¸é˜»å¡æ¸²æŸ“å’Œ document çš„ onload äº‹ä»¶</li> <li>æå‰åŠ è½½æŒ‡å®šèµ„æºï¼Œä¸å†å‡ºç°ä¾èµ–çš„fontå­—ä½“éš”äº†ä¸€æ®µæ—¶é—´æ‰åˆ·å‡º</li></ul> <p><strong>ä½¿ç”¨ preload</strong></p> <p>link æ ‡ç­¾</p> <div class="language- extra-class"><pre><code>&lt;!-- ä½¿ç”¨ link æ ‡ç­¾é™æ€æ ‡è®°éœ€è¦é¢„åŠ è½½çš„èµ„æºÂ --&gt;
&lt;link rel=&quot;preload&quot; href=&quot;/path/to/style.css&quot; as=&quot;style&quot;&gt;

&lt;!-- æˆ–ä½¿ç”¨è„šæœ¬åŠ¨æ€åˆ›å»ºä¸€ä¸ª link æ ‡ç­¾åæ’å…¥åˆ° head å¤´éƒ¨Â --&gt;
&lt;script&gt;
const link = document.createElement('link');
link.rel = 'preload';
link.as = 'style';
link.href = '/path/to/style.css';
document.head.appendChild(link);
&lt;/script&gt;
</code></pre></div><p>httpå¤´</p> <div class="language- extra-class"><pre><code>Link: &lt;https://example.com/other/styles.css&gt;; rel=preload; as=style
</code></pre></div><ul><li>preload æ˜¯å‘Šè¯‰æµè§ˆå™¨é¡µé¢<strong>å¿…å®š</strong>éœ€è¦çš„èµ„æºï¼Œæµè§ˆå™¨<strong>ä¸€å®šä¼š</strong>åŠ è½½è¿™äº›èµ„æºï¼›</li> <li>prefetch æ˜¯å‘Šè¯‰æµè§ˆå™¨é¡µé¢<strong>å¯èƒ½</strong>éœ€è¦çš„èµ„æºï¼Œæµè§ˆå™¨<strong>ä¸ä¸€å®šä¼š</strong>åŠ è½½è¿™äº›èµ„æºã€‚</li></ul> <p>preload æ˜¯ç¡®è®¤ä¼šåŠ è½½æŒ‡å®šèµ„æºï¼Œå¦‚åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­ï¼Œx-report.js åˆå§‹åŒ–åä¸€å®šä¼šåŠ è½½ PcCommon.js å’Œ TabsPc.js, åˆ™å¯ä»¥é¢„å…ˆ preload è¿™äº›èµ„æºï¼›</p> <p>prefetch æ˜¯é¢„æµ‹ä¼šåŠ è½½æŒ‡å®šèµ„æºï¼Œå¦‚åœ¨æˆ‘ä»¬çš„åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬åœ¨é¡µé¢åŠ è½½åä¼šåˆå§‹åŒ–é¦–å±ç»„ä»¶ï¼Œå½“ç”¨æˆ·æ»šåŠ¨é¡µé¢æ—¶ï¼Œä¼šæ‹‰å–ç¬¬äºŒå±çš„ç»„ä»¶ï¼Œè‹¥èƒ½é¢„æµ‹ç”¨æˆ·è¡Œä¸ºï¼Œåˆ™å¯ä»¥ prefetch ä¸‹ä¸€å±çš„ç»„ä»¶ã€‚</p> <h3 id="tree-shaking"><a href="#tree-shaking" class="header-anchor">#</a> tree shaking</h3> <ol><li>ES6çš„æ¨¡å—å¼•å…¥æ˜¯é™æ€åˆ†æçš„ï¼Œæ•…è€Œå¯ä»¥åœ¨ç¼–è¯‘æ—¶æ­£ç¡®åˆ¤æ–­åˆ°åº•åŠ è½½äº†ä»€ä¹ˆä»£ç ã€‚</li> <li>åˆ†æç¨‹åºæµï¼Œåˆ¤æ–­å“ªäº›å˜é‡æœªè¢«ä½¿ç”¨ã€å¼•ç”¨ï¼Œè¿›è€Œåˆ é™¤æ­¤ä»£ç ã€‚</li></ol> <h3 id="åŠ¨ç”»æ€§èƒ½æ–¹å‘"><a href="#åŠ¨ç”»æ€§èƒ½æ–¹å‘" class="header-anchor">#</a> åŠ¨ç”»æ€§èƒ½æ–¹å‘</h3> <ul><li>ä¸€èˆ¬ CSS3 åŠ¨ç”»ä¼šæ¯”åŸºäº JavaScript å®ç°çš„åŠ¨ç”»æ•ˆç‡è¦é«˜ï¼Œå› æ­¤ä¼˜å…ˆä½¿ç”¨ CSS3 å®ç°æ•ˆæœï¼ˆè¿™ä¸€ç‚¹å¹¶ä¸ç»å¯¹ï¼‰</li> <li>åœ¨ä½¿ç”¨ CSS3 å®ç°åŠ¨ç”»æ—¶ï¼Œè€ƒè™‘å¼€å¯ GPU åŠ é€Ÿï¼ˆè¿™ä¸€ç‚¹ä¹Ÿå¹¶ä¸æ€»æ˜¯æ­£å‘æ•ˆæœï¼‰</li> <li>ä¼˜å…ˆä½¿ç”¨æ¶ˆè€—æœ€ä½çš„ transform å’Œ opacity ä¸¤ä¸ªå±æ€§ (é¿å… reflow repaint)</li> <li>ä½¿ç”¨ will-change å±æ€§</li> <li>ç‹¬ç«‹åˆæˆå±‚ï¼Œå‡å°‘ç»˜åˆ¶åŒºåŸŸ</li> <li>å¯¹äºåªèƒ½ä½¿ç”¨ JavaScript å®ç°åŠ¨ç”»æ•ˆæœçš„æƒ…å†µï¼Œè€ƒè™‘ requestAnimationFrameã€requestIdleCallback API</li> <li>æ‰¹é‡è¿›è¡Œæ ·å¼å˜æ¢ï¼Œå‡å°‘å¸ƒå±€æŠ–åŠ¨</li></ul> <p><strong>å¦‚ä½•å¼€å¯ GPU åŠ é€Ÿ</strong></p> <p>è§¦å‘ç¡¬ä»¶åŠ é€Ÿçš„csså±æ€§ï¼š</p> <ul><li>transform</li> <li>opacity</li> <li>filters</li> <li>Will-change</li></ul> <p>ç›®å‰ä¸‹é¢è¿™äº›å› ç´ éƒ½ä¼šå¼•èµ·Chromeåˆ›å»ºåˆæˆå±‚ï¼š</p> <ol><li>3D æˆ–é€è§†å˜æ¢(perspectiveï¼Œtransform) CSS å±æ€§</li> <li>ä½¿ç”¨åŠ é€Ÿè§†é¢‘è§£ç çš„videoå…ƒç´ </li> <li>æ‹¥æœ‰ 3D (WebGL) ä¸Šä¸‹æ–‡æˆ–åŠ é€Ÿçš„ 2D ä¸Šä¸‹æ–‡çš„ canvas å…ƒç´ </li> <li>æ··åˆæ’ä»¶(å¦‚ Flash)</li> <li>å¯¹è‡ªå·±çš„ opacity åš CSS åŠ¨ç”»æˆ–ä½¿ç”¨ä¸€ä¸ªåŠ¨ç”» webkit å˜æ¢çš„å…ƒç´ </li> <li>æ‹¥æœ‰åŠ é€Ÿ CSS è¿‡æ»¤å™¨çš„å…ƒç´ </li> <li>å…ƒç´ Aæœ‰ä¸€ä¸ª z-index æ¯”è‡ªå·±å°çš„å…ƒç´ Bï¼Œä¸”å…ƒç´ Bæ˜¯ä¸€ä¸ªåˆæˆå±‚ï¼ˆæ¢å¥è¯è¯´å°±æ˜¯è¯¥å…ƒç´ åœ¨å¤åˆå±‚ä¸Šé¢æ¸²æŸ“ï¼‰ï¼Œåˆ™å…ƒç´ Aä¼šæå‡ä¸ºåˆæˆå±‚</li></ol> <h3 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="header-anchor">#</a> äº‹ä»¶å§”æ‰˜</h3> <div class="language- extra-class"><pre><code>window.onload = () =&gt; {
   const ul = document.getElementsByTagName('ul')[0]
   const liList = document.getElementsByTagName('li')

   ul.onclick = e =&gt; {
       const normalizeE = e || window.event
       const target = normalizeE.target || normalizeE.srcElement

       if (target.nodeName.toLowerCase() == &quot;li&quot;) {
           alert(target.innerHTML)
       }
   }
}
</code></pre></div><h3 id="èŠ‚æµå’Œé˜²æŠ–"><a href="#èŠ‚æµå’Œé˜²æŠ–" class="header-anchor">#</a> èŠ‚æµå’Œé˜²æŠ–</h3> <ul><li>é˜²æŠ–ï¼šæŠ–åŠ¨ç°è±¡æœ¬è´¨å°±æ˜¯æŒ‡çŸ­æ—¶é—´å†…é«˜é¢‘æ¬¡è§¦å‘ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠçŸ­æ—¶é—´å†…çš„å¤šä¸ªè¿ç»­è°ƒç”¨åˆå¹¶æˆä¸€æ¬¡ï¼Œä¹Ÿå°±æ˜¯åªè§¦å‘ä¸€æ¬¡å›è°ƒå‡½æ•°ã€‚</li> <li>èŠ‚æµï¼šé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯å°†çŸ­æ—¶é—´çš„å‡½æ•°è°ƒç”¨ä»¥ä¸€ä¸ªå›ºå®šçš„é¢‘ç‡é—´éš”æ‰§è¡Œï¼Œè¿™å°±å¦‚åŒæ°´é¾™å¤´å¼€å…³é™åˆ¶å‡ºæ°´å£æµé‡ã€‚</li></ul> <p><strong>é˜²æŠ–</strong></p> <p>é‡‡å–æœ€åä¸€æ¬¡</p> <div class="language- extra-class"><pre><code>const debounce = (func, wait) =&gt; {
   let timeout
   return function () {
       const context = this
       const args = arguments

       timeout &amp;&amp; clearTimeout(timeout)
       timeout = setTimeout(function() {
           timeout = null
           func.apply(context, args)
       }, wait)
   }
}

const debounce = (func, wait, immediate) =&gt; {
   let timeout
   return function () {
       const context = this
       const args = arguments

       const callNow = immediate &amp;&amp; !timeout

       timeout &amp;&amp; clearTimeout(timeout)

       timeout = setTimeout(function() {
           timeout = null
           if (!immediate) func.apply(context, args)
       }, wait)

       if (callNow) func.apply(context, args)
   }
}
</code></pre></div><p><strong>èŠ‚æµ</strong></p> <p>é‡‡å–ç¬¬ä¸€æ¬¡</p> <div class="language- extra-class"><pre><code>const throttle = (func, wait) =&gt; {
   let startTime = 0
   return function() {
       let handleTime = +new Date()
       let context = this
       const args = arguments

       if (handleTime - startTime &gt;= wait) {
           func.apply(context, args)
           startTime = handleTime
       }
   }
}

const throttle = (func, wait) =&gt; {
   let timeout

   return function () {
       const context = this
       const args = arguments
       if (!timeout) {
           timeout = setTimeout(function() {
               func.apply(context, args)
                  timeout = null
         }, wait)
       }
   }
}</code></pre></div></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h3 active"><a href="#webp-å›¾ç‰‡ä¼˜åŒ–" title="WebP å›¾ç‰‡ä¼˜åŒ–">WebP å›¾ç‰‡ä¼˜åŒ–</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#æŒ‰éœ€åŠ è½½ä¼˜åŒ–" title="æŒ‰éœ€åŠ è½½ä¼˜åŒ–">æŒ‰éœ€åŠ è½½ä¼˜åŒ–</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#å›¾ç‰‡æ‡’åŠ è½½" title="å›¾ç‰‡æ‡’åŠ è½½">å›¾ç‰‡æ‡’åŠ è½½</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#é›ªç¢§å›¾" title="é›ªç¢§å›¾">é›ªç¢§å›¾</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#preload-å’Œ-prefetch" title="preload å’Œ prefetch">preload å’Œ prefetch</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#tree-shaking" title="tree shaking">tree shaking</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#åŠ¨ç”»æ€§èƒ½æ–¹å‘" title="åŠ¨ç”»æ€§èƒ½æ–¹å‘">åŠ¨ç”»æ€§èƒ½æ–¹å‘</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#äº‹ä»¶å§”æ‰˜" title="äº‹ä»¶å§”æ‰˜">äº‹ä»¶å§”æ‰˜</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#èŠ‚æµå’Œé˜²æŠ–" title="èŠ‚æµå’Œé˜²æŠ–">èŠ‚æµå’Œé˜²æŠ–</a></div></div></div></div> <footer class="footer" data-v-582f9766><div class="footer-left-wrap" data-v-582f9766><ul class="contact" data-v-582f9766><li class="contact-item" data-v-582f9766><a href="https://github.com/Jimzjy" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-582f9766><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-582f9766><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-582f9766></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-582f9766><ul class="copyright" data-v-582f9766><li class="copyright-item" data-v-582f9766><a href="/blog/1970/01/01/optimization/.html" class="nav-link" data-v-582f9766>æ‘¸é±¼ä¸­ğŸŸ...</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.53ba6c92.js" defer></script><script src="/blog/assets/js/6.efbb1a0e.js" defer></script><script src="/blog/assets/js/4.9413832c.js" defer></script><script src="/blog/assets/js/22.98c6c60c.js" defer></script>
  </body>
</html>
